<!doctype html>
<html lang="fr">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/sc.css">
    <title>Configurateur de switch</title>
  </head>
  <body>
  	<div class="container">
  		<div class="row"><a href="index.html">Accueil</a></div>
    	<div class="row"><h1>Alcatel OS6350-P10</h1></div>
			<div class="row"><img src="images/os6350_p10.jpg" width="50%" height="50%"></div>
        		<form>
	        <div class="row">
	            <div class="col">
	                <div class="form-group">
		                <label for="idvlandata">ID Vlan Data</label>
		                <input type="text" class="form-control" name="idvlandata" id="idvlandata" maxlength="4">
	                </div>
	                <div class="form-group">
		                <label for="idvlanvoix">ID Vlan Voix</label>
		                <input type="text" class="form-control" name="idvlanvoix" id="idvlanvoix" maxlength="4">
	                </div>               
		                <div>access vlan data</div>
		                <p>Ports :
		                <input type="radio" class="radio" name="port1" value="dataport1" id="dataport1">
		                <label class="" for="dataport1">1</label>
		                <input type="radio" class="radio" name="port2" value="dataport2" id="dataport2">
		                <label class="" for="dataport2">2</label>
		                <input type="radio" class="radio" name="port3" value="dataport3" id="dataport3">
		                <label class="" for="dataport3">3</label>
		                <input type="radio" class="radio" name="port4" value="dataport4" id="dataport4">
		                <label class="" for="dataport4">4</label>
		                <input type="radio" class="radio" name="port5" value="dataport5" id="dataport5">
		                <label class="" for="dataport5">5</label>
		                <input type="radio" class="radio" name="port6" value="dataport6" id="dataport6">
		                <label class="" for="dataport6">6</label>
		                <input type="radio" class="radio" name="port7" value="dataport7" id="dataport7">
		                <label class="" for="dataport7">7</label>
		                <input type="radio" class="radio" name="port8" value="dataport8" id="dataport8">
		                <label class="" for="dataport8">8</label>
		                <input type="radio" class="radio" name="port9" value="dataport9" id="dataport9">
		                <label class="" for="dataport9">9</label>
		                <input type="radio" class="radio" name="port10" value="dataport10" id="dataport10">
		                <label class="" for="dataport10">10</label>
		              </p>
		                <div>access vlan voix</div>
		                <p>Ports :
		                <input type="radio" class="radio" name="port1" value="voixport1" id="voixport1">
		                <label class="" for="voixport1">1</label>
		                <input type="radio" class="radio" name="port2" value="voixport2" id="voixport2">
		                <label class="" for="voixport2">2</label>
		                <input type="radio" class="radio" name="port3" value="voixport3" id="voixport3">
		                <label class="" for="voixport3">3</label>
		                <input type="radio" class="radio" name="port4" value="voixport4" id="voixport4">
		                <label class="" for="voixport4">4</label>
		                <input type="radio" class="radio" name="port5" value="voixport5" id="voixport5">
		                <label class="" for="voixport5">5</label>
		                <input type="radio" class="radio" name="port6" value="voixport6" id="voixport6">
		                <label class="" for="voixport6">6</label>
		                <input type="radio" class="radio" name="port7" value="voixport7" id="voixport7">
		                <label class="" for="voixport7">7</label>
		                <input type="radio" class="radio" name="port8" value="voixport8" id="voixport8">
		                <label class="" for="voixport8">8</label>
		                <input type="radio" class="radio" name="port9" value="voixport9" id="voixport9">
		                <label class="" for="voixport9">9</label>
		                <input type="radio" class="radio" name="port10" value="voixport10" id="voixport10">
		                <label class="" for="voixport10">10</label>
		                </p>
		                <div>ports mixtes</div>
		                <p>Ports :
		                <input type="radio" class="radio" name="port1" value="mixteport1" id="mixteport1">
		                <label class="" for="mixteport1">1</label>
		                <input type="radio" class="radio" name="port2" value="mixteport2" id="mixteport2">
		                <label class="" for="mixteport2">2</label>
		                <input type="radio" class="radio" name="port3" value="mixteport3" id="mixteport3">
		                <label class="" for="mixteport3">3</label>
		                <input type="radio" class="radio" name="port4" value="mixteport4" id="mixteport4">
		                <label class="" for="mixteport4">4</label>
		                <input type="radio" class="radio" name="port5" value="mixteport5" id="mixteport5">
		                <label class="" for="mixteport5">5</label>
		                <input type="radio" class="radio" name="port6" value="mixteport6" id="mixteport6">
		                <label class="" for="mixteport6">6</label>
		                <input type="radio" class="radio" name="port7" value="mixteport7" id="mixteport7">
		                <label class="" for="mixteport7">7</label>
		                <input type="radio" class="radio" name="port8" value="mixteport8" id="mixteport8">
		                <label class="" for="mixteport8">8</label>
		                <input type="radio" class="radio" name="port9" value="mixteport9" id="mixteport9">
		                <label class="" for="mixteport9">9</label>
		                <input type="radio" class="radio" name="port10" value="mixteport10" id="mixteport10">
		                <label class="" for="mixteport10">10</label>
		                </p>
		                <div>ports trunk</div>  
						<p>Ports :
		                <input type="radio" class="radio" name="port1" value="trunkport1" id="trunkport1">
		                <label class="" for="trunkport1">1</label>
		                <input type="radio" class="radio" name="port2" value="trunkport2" id="trunkport2">
		                <label class="" for="trunkport2">2</label>
		                <input type="radio" class="radio" name="port3" value="trunkport3" id="trunkport3">
		                <label class="" for="trunkport3">3</label>
		                <input type="radio" class="radio" name="port4" value="trunkport4" id="trunkport4">
		                <label class="" for="trunkport4">4</label>
		                <input type="radio" class="radio" name="port5" value="trunkport5" id="trunkport5">
		                <label class="" for="trunkport5">5</label>
		                <input type="radio" class="radio" name="port6" value="trunkport6" id="trunkport6">
		                <label class="" for="trunkport6">6</label>
		                <input type="radio" class="radio" name="port7" value="trunkport7" id="trunkport7">
		                <label class="" for="trunkport7">7</label>
		                <input type="radio" class="radio" name="port8" value="trunkport8" id="trunkport8">
		                <label class="" for="trunkport8">8</label>
		                <input type="radio" class="radio" name="port9" value="trunkport9" id="trunkport9">
		                <label class="" for="trunkport9">9</label>
		                <input type="radio" class="radio" name="port10" value="trunkport10" id="trunkport10">
		                <label class="" for="trunkport10">10</label>
		                </p>
		                <div>lldp</div>
							<p>
							<input type="radio" class="radio" name="lldp" value="lldpoui" id="lldpoui">
							<label class="" for="lldpoui">Oui</label>
							<input type="radio" class="radio" name="lldp" value="lldpnon" id="lldpnon">
							<label class="" for="lldpnon">Non</label>
							</p>
                </div><!-- fin de div col1 -->
            <div class="col">
            	<div class="form-group">
                        <label for="ipadmin">Adresse IP d'administration</label>
                        <input type="text" class="form-control" name="ipadmin" id="ipadmin" maxlength="15">
                        </div>
                        <div>Vlan d'administration</div>
                        <form class ="radio">
							<p>
							<input type="radio" class="radio" name="vlanadmin" value="vlandata" id="vlandata">
							<label class="" for="vlandata">Data</label>
							<input type="radio" class="radio" name="vlanadmin" value="vlanvoix" id="vlanvoix">
							<label class="" for="vlanvoix">Voix</label>
							</p>					
                        <div class="form-group">
                        <label for="defaultgateway">Passerelle par défaut</label>
                        <input type="text" class="form-control" name="defaultgateway" id="defaultgateway" maxlength="15">
                        </div>
                        <div class="form-group">
                        <label for="Name">Nom</label>
                        <input type="text" class="form-control" name="Name" id="Name" maxlength="15">
                        </div>
                        <button type="submit" class="btn btn-primary">Générer</button>
                        </form>
                       
        </div><!-- fin de row -->
            <div class="row">
 <textarea cols="50" rows="10" id="message" readonly></textarea>
</div>

            </form>
	</div>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="js/jquery.min.js"></script>
    <!--<script src="js/popper.min.js"></script>-->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/sc.js"></script>
    <script >
 
$(document).ready(function(){
	function showValues() {
		var fields =$( "form" ).serializeArray();
		var champs = {};
		jQuery.each( fields, function( i, field ) {
      		champs[field.name] = field.value;
		});
		console.log(champs);
		$( "#message" ).empty();
		$( "#message" ).append( "! Stack Manager :\n! Chassis :\n");
		$( "#message" ).append( "system name " + champs.Name + "\n");
		$( "#message" ).append( "system location \nsystem daylight savings time disable\n! Configuration:\n! VLAN :\n" );
		$( "#message" ).append( "vlan 1 enable name \"VLAN 1\"\n" );
		if (champs.idvlandata && champs.idvlanvoix) {
		if (eval("champs.idvlanvoix") < eval("champs.idvlandata")) {
		$( "#message" ).append( "vlan " + champs.idvlanvoix + " enable name \"Voix\"\n" );
		for (var i = 1; i<= 10; i++) {
			if (eval("champs.port"+i) == "voixport"+i) $( "#message" ).append( "vlan " + champs.idvlanvoix + " port default 1/"+i+"\n");
		}
		$( "#message" ).append( "vlan " + champs.idvlandata + " enable name \"Data\"\n" );
		for (var i = 1; i<= 10; i++) {
			if (eval("champs.port"+i) == "dataport"+i) $( "#message" ).append( "vlan " + champs.idvlandata + " port default 1/"+i+"\n");
			if (eval("champs.port"+i) == "mixteport"+i) $( "#message" ).append( "vlan " + champs.idvlandata + " port default 1/"+i+"\n");
		}
		}
		else {
		$( "#message" ).append( "vlan " + champs.idvlandata + " enable name \"Data\"\n" );
		for (var i = 1; i<= 10; i++) {
			if (eval("champs.port"+i) == "dataport"+i) $( "#message" ).append( "vlan " + champs.idvlandata + " port default 1/"+i+"\n");
		}
		$( "#message" ).append( "vlan " + champs.idvlanvoix + " enable name \"Voix\"\n" );
		for (var i = 1; i<= 10; i++) {
			if (eval("champs.port"+i) == "voixport"+i) $( "#message" ).append( "vlan " + champs.idvlanvoix + " port default 1/"+i+"\n");
		}	
		}	
		}
		$( "#message").append( "! VLAN SL:\n! IP :\nip service all\n" );
		if (champs.vlanadmin && champs.ipadmin) $( "#message").append( "ip interface \"Admin\" address " + champs.ipadmin + " mask 255.255.255.0 vlan " + eval("champs.id"+champs.vlanadmin) + " ifindex 1\n");
		$( "#message").append( "! IPMS :\n! AAA :\naaa authentication console \"local\"\naaa authentication telnet \"local\"\naaa authentication ftp \"local\"\naaa authentication ssh \"local\"\n" );
		$( "#message").append( "! PARTM :\n! 802.1x :\n! QOS :\nqos trust ports\npolicy condition C_Voix source vlan " + champs.idvlanvoix + "\n"  );
		$( "#message").append( "policy action A_Voix priority 5 dscp 46\npolicy rule R_Voix condition C_Voix action A_Voix\nqos apply\n"  );
		$( "#message").append( "! Policy manager\n! Session manager\nsession prompt default \"SW-" + champs.Name + "-->\"\n");
		$( "#message").append( "! SNMP :\n! RIP :\n! OSPF :\n! ISIS :\n! IPv6 :\n! IP multicast :\n! IPRM !\n"  );
		$( "#message").append( "ip static-route 0.0.0.0/0 gateway " + champs.defaultgateway + "metric 1\n"  );
		$( "#message").append( "! RIPng :\n! OSPF3 :\n! BGP :\n! Health monitor :\nhealth treshold memory        90\nhealth treshold temperature 78\n"  );
		$( "#message").append( "! Interfaces :\n! Udld :\n! Port Mapping :\n! Link Aggregate :\n! VLAN AGG:\n! 802.1Q :\n"  );
		for (var j = 1; j<= 10; j++) {
			if (eval("champs.port"+j) == "mixteport"+j) $( "#message").append( "vlan " + champs.idvlanvoix + " 802.1q 1/" + j + " \"PC-TEL\"\n");
			else {
					if (eval("champs.port"+j) == "trunkport"+j) {
						if (eval("champs.idvlanvoix") < eval("champs.idvlandata")) {
							$( "#message" ).append( "vlan " + champs.idvlanvoix + " 802.1q 1/" + j + " \"TRUNK\"\n");
							$( "#message" ).append( "vlan " + champs.idvlandata + " 802.1q 1/" + j + " \"TRUNK\"\n");
					}
					else {
						$( "#message" ).append( "vlan " + champs.idvlandata + " 802.1q 1/" + j + " \"TRUNK\"\n");
						$( "#message" ).append( "vlan " + champs.idvlanvoix + " 802.1q 1/" + j + " \"TRUNK\"\n");
					}
				}
				}
			}
		$( "#message").append( "! Spanning tree :\nbridge mode 1x1 pvst+ enable\n! Bridging :\n! Bridging :\n! Port mirroring :\n! UDP Relay :\n"  );
		$( "#message").append( "ip helper forward delay 0\n! System service :\nswlog console level info\n! SSH :\n! Web :\n! AMAP :\n"  );
		$( "#message").append( "! Lan Power :\n! lanpower 1 capacitor-detection enable\n! NTP :\n! RDP :\n! VLAN STACKING:\n! EFM-OAM :\n"  );
		$( "#message").append( "! SAA :\n! Loopback-detection :\n! ERP :\n! TEST-OAM :\n! PPOE-IA :\n! DHL :\n"  );
		$( "#message").append( "! LLDP :\nlldp transmit interval 20\nlldp network-policy 1 application voice vlan " + champs.idvlanvoix + " l2-priority 5 dscp 46\n");
		$( "#message").append( "lldp chassis tlv med capability enable network-policy enable\n");
		$( "#message").append( "lldp chassis med network-policy 1\n! DHCP Server :\n! Stack Split-Protection Helper :\n! Openflow :\n! DHCPv6 :\n! TWAMP :"  );
    	/* jQuery.each( fields, function( i, field ) {
      		$( "#message" ).append( field.value + " " );
		});
		$( "#message" ).append( "\n"+champs.idvlandata )
		$( "#message" ).append( "\n"+champs.idvlanvoix );*/
    }
 	$( "form" ).submit(function( event ) { 
  		event.preventDefault();
   		showValues();
	});
	$(":checkbox, :radio").click( showValues );
  	$(":text").focusout(showValues);
    });
     
</script>
  </body>
</html>